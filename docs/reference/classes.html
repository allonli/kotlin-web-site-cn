<!DOCTYPE html>
<!--[if (IE 7)&!(IEMobile)]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (IE 9)&!(IEMobile)]><html class="no-js ie ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
<head>
<meta charset="utf-8">

    <title>类和继承 - Kotlin Programming Language</title>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-cn/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-cn/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/kotlin-web-site-cn/css/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="类和继承" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://kotlinlang.org/docs/reference/classes.html" />
<meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/kotlin_250x250.png" />

<meta property="og:description" content="Kotlin is a statically typed programming language for the JVM, Android and the browser, 100% interoperable with Java">

<meta property="og:site_name" content="Kotlin" />

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="类和继承">

<meta name="twitter:description" content="Kotlin is a statically typed programming language for the JVM, Android and the browser, 100% interoperable with Java">

<meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/twitter-card/kotlin_800x320.png ">
<!-- Social Media tag Ends -->
<script src="/kotlin-web-site-cn/js/vendor/requirejs/require.js"></script>
<script src="/kotlin-web-site-cn/js/config/bootstrap.js"></script>
</head>
<body>
<!-- 
 -->

<div class="global-layout">

    <header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-cn/">Kotlin</a>

            

            <nav role="navigation" class="global-nav">
    

    <div class="nav-links">
        
            
            
            
            

            

            

            

            <a href="/kotlin-web-site-cn/docs/reference/"
               class="nav-item "
            >
                学习
            </a>
        
            
            
            
            

            

            

            

            <a href="/kotlin-web-site-cn/contribute.html"
               class="nav-item "
            >
                贡献
            </a>
        
            
            
            
            

            

            

            

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                在线尝试
            </a>
        
            
            
            
            

            
                
    </div>

    

    <div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div>
</nav>

        </div>
    </div>

    <div class="g-layout">
        
    </div>
</header>


    <div class="g-layout global-content">
        <div class="g-grid">

    <div class="g-12">
        
    

    <nav role="navigation" class="docs-nav">
        
            
            

            <div class="nav-item-wrap">
            
                    <a href="/kotlin-web-site-cn/docs/reference/" class="nav-item is_active">
                        <span class="nav-item-text">
                            参考
                        </span>
                    </a>
            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        教程
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        视频
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        事件记
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                </a>

            
            </div>
        
    </nav>


    </div>

    <aside class="g-3">
        <div id="reference-nav">
            





<nav role="navigation" class="side-tree-nav">

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="开始">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">开始</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/basic-syntax.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">基础语法</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/idioms.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">习惯用法</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/coding-conventions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">编码习惯</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="基础">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">基础</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/basic-types.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">基本类型</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/packages.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">包</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/control-flow.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">控制流</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/returns.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">返回和跳转</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _opened"
         data-id="类和对象">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">类和对象</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                    <div class="marker"></div>
                    <div class="text">类和继承</div>
                </div>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">属性和字段</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/interfaces.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">接口</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/visibility-modifiers.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">可见性修饰符</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/extensions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">扩展</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/data-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">数据类</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/generics.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">泛型</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/nested-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">嵌套类</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/enum-classes.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">枚举类</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/object-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">对象</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/delegation.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">委托</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/delegated-properties.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">委托属性</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="函数和Lambdas表达式">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">函数和Lambdas表达式</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">函数</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/lambdas.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Lambdas表达式</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/inline-functions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">内联函数</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="其他">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">其他</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/multi-declarations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">解构声明</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/collections.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">集合</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/ranges.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">范围</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/typecasts.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">类型检查与转换</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/this-expressions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">This表达式</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/equality.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">等式</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/operator-overloading.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">操作符重载</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/null-safety.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">空安全</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/exceptions.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">异常</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/annotations.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">注解</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/reflection.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">反射</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/type-safe-builders.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">类型安全的构建器</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/dynamic-type.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">动态类型</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="参考">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">参考</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/api/latest/jvm/stdlib/"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">API参考</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/grammar.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">语法</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="互操作">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">互操作</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/java-interop.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Kotlin 调用 Java</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/java-to-kotlin-interop.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Java 调用 Kotlin</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="工具">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">工具</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/kotlin-doc.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">生成kotlin代码文档</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-maven.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用 Maven</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-ant.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用 Ant</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/using-gradle.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用 Gradle</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/kotlin-osgi.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Kotlin 和 OSGi</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="常见问题">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">常见问题</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/faq.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">常见问题</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/comparison-to-java.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">与Java比较</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/reference/comparison-to-scala.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">与Scala比较</span></a>
            
            </div>
        

    </div>

    

</nav>

            <a href="https://raw.githubusercontent.com/cctanfujun/kotlin-web-site-cn/gh-pages/kotlin-docs.pdf" class="reference-pdf-link">
                <span class="icon"></span>
                <span class="text">Kotlin 手册 中文版</span>
            </a>
        </div>
    </aside>

    <article role="main" class="page-content g-9">
        


<a href="https://github.com/cctanfujun/kotlin-web-site-cn/edit/master/docs/reference/classes.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>

        <h1 id="section">类和继承<a href="#section" class="anchor"></a></h1>

<h2 id="section-1">类<a href="#section-1" class="anchor"></a></h2>

<p>Kotlin 中使用关键字 <em class="keyword">class</em> 声明类</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Invoice</span> <span class="p">{</span>
<span class="p">}</span></code></pre>

<p>类声明由类名、类头（指定其类型参数、主
构造函数等）和由大括号包围的类体构成。类头和类体都是可选的；
如果这个类没有类体，可以省略花括号。</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Empty</span></code></pre>

<h3 id="section-2">构造函数<a href="#section-2" class="anchor"></a></h3>

<p>在 Kotlin 中的一个类可以有一个<strong>主构造函数</strong>和一个或多个<strong>次构造函数</strong>。主
构造函数是类头的一部分：它跟在类名（和可选的类型参数）后。</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Person</span> <span class="n">constructor</span><span class="p">(</span><span class="n">firstName</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span></code></pre>

<p>如果这个主构造函数没有任何注解或者可见性修饰符，可以省略这个 <em class="keyword">constructor</em>
关键字。</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="n">firstName</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span></code></pre>

<p>这个主构造函数不能包含任何的代码。初始化的代码可以放
到以 <em class="keyword">init</em> 关键字作为前缀的<strong>初始化块（initializer blocks）</strong>中：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">init</span> <span class="p">{</span>
        <span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Customer initialized with value ${name}&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>注意，主构造的参数可以在初始化块中使用。它们也可以在
类体内声明的属性初始化器中使用：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">customerKey</span> <span class="p">=</span> <span class="n">name</span><span class="p">.</span><span class="n">toUpperCase</span><span class="p">()</span>
<span class="p">}</span></code></pre>

<p>事实上，声明属性以及从主构造函数初始化属性，Kotlin 有简洁的语法：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="k">val</span> <span class="py">firstName</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="k">val</span> <span class="py">lastName</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="k">var</span> <span class="py">age</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span></code></pre>

<p>与普通属性一样，主构造函数中声明的属性可以是
可变的（<em class="keyword">var</em>）或只读的（<em class="keyword">val</em>）。</p>

<p>如果构造函数有注解或可见性修饰符，这个 <em class="keyword">constructor</em> 关键字是必需的，并且
这些修饰符在它前面：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Customer</span> <span class="k">public</span> <span class="n">@Inject</span> <span class="n">constructor</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span></code></pre>

<p>更多详情，参见<a href="visibility-modifiers.html#构造函数">可见性修饰符</a></p>

<h4 id="section-3">次构造函数</h4>

<p>类也可以声明前缀有 <em class="keyword">constructor</em>** 的次构造函数**：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Person</span> <span class="p">{</span>
    <span class="n">constructor</span><span class="p">(</span><span class="n">parent</span><span class="p">:</span> <span class="n">Person</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parent</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>如果类有一个主构造函数，每个次构造函数需要委托给主构造函数，
可以直接委托或者通过别的次构造函数间接委托。委托到同一个类的另一个构造函数
用 <em class="keyword">this</em> 关键字即可：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="k">val</span> <span class="py">name</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">constructor</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">Person</span><span class="p">)</span> <span class="p">:</span> <span class="k">this</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">parent</span><span class="p">.</span><span class="n">children</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>如果一个非抽象类没有声明任何（主或次）构造函数，它会有一个生成的
不带参数的主构造函数。构造函数的可见性是 public。如果你不希望你的类
有一个公有构造函数，你需要声明一个带有非默认可见性的空的主构造函数：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">DontCreateMe</span> <span class="k">private</span> <span class="n">constructor</span> <span class="p">()</span> <span class="p">{</span>
<span class="p">}</span></code></pre>

<blockquote class="info">
  <p><strong>注意</strong>：在 JVM 上，如果主构造函数的所有的参数都有默认值，编译器会生成
一个额外的无参构造函数，它将使用默认值。这使得
Kotlin 更易于使用像 Jackson 或者 JPA 这样的通过无参构造函数创建类的实例的库。</p>

  <pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Customer</span><span class="p">(</span><span class="k">val</span> <span class="py">customerName</span><span class="p">:</span> <span class="n">String</span> <span class="p">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span></code></pre>
</blockquote>

<h3 id="section-4">创建类的实例<a href="#section-4" class="anchor"></a></h3>

<p>要创建一个类的实例，我们就像普通函数一样调用构造函数：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">val</span> <span class="py">invoice</span> <span class="p">=</span> <span class="n">Invoice</span><span class="p">()</span>

<span class="k">val</span> <span class="py">customer</span> <span class="p">=</span> <span class="n">Customer</span><span class="p">(</span><span class="s">&quot;Joe Smith&quot;</span><span class="p">)</span></code></pre>

<p>注意 Kotlin 并没有 <em class="keyword">new</em> 关键字。</p>

<p>Creating instances of nested, inner and anonymous inner classes is described in <a href="nested-classes.html">Nested classes</a>.</p>

<h3 id="section-5">类成员<a href="#section-5" class="anchor"></a></h3>

<p>类可以包含</p>

<ul>
  <li>构造函数和初始化块</li>
  <li><a href="functions.html">函数</a></li>
  <li><a href="properties.html">属性</a></li>
  <li><a href="nested-classes.html">嵌套类和内部类</a></li>
  <li><a href="object-declarations.html">对象声明</a></li>
</ul>

<h2 id="section-6">继承<a href="#section-6" class="anchor"></a></h2>

<p>在 Kotlin 中所有类都有一个共同的超类 <code>Any</code>，这对于没有超类型声明的类是默认超类：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">Example</span> <span class="c1">// 从 Any 隐式继承</span></code></pre>

<p><code>Any</code> 不是 <code>java.lang.Object</code>；尤其是，它除了 <code>equals()</code>、<code>hashCode()</code>和<code>toString()</code>外没有任何成员。
更多细节请查阅<a href="java-interop.html#object-methods">Java互通性</a>部分。</p>

<p>要声明一个显式的超类型，我们把类型放到类头的冒号之后：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">open</span> <span class="k">class</span> <span class="nc">Base</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Derived</span><span class="p">(</span><span class="n">p</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="n">Base</span><span class="p">(</span><span class="n">p</span><span class="p">)</span></code></pre>

<p>如果该类有一个主构造函数，其基类型可以（并且必须）
用（基类型的）主构造函数参数就地初始化。</p>

<p>如果类没有主构造函数，那么每个次构造函数必须
使用 <em>super</em>{：.keyword} 关键字初始化其基类型，或委托给另一个构造函数做到这一点。
注意，在这种情况下，不同的次构造函数可以调用基类型的不同的构造函数：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">class</span> <span class="nc">MyView</span> <span class="p">:</span> <span class="n">View</span> <span class="p">{</span>
    <span class="n">constructor</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">)</span> <span class="p">:</span> <span class="k">super</span><span class="p">(</span><span class="n">ctx</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>

    <span class="n">constructor</span><span class="p">(</span><span class="n">ctx</span><span class="p">:</span> <span class="n">Context</span><span class="p">,</span> <span class="n">attrs</span><span class="p">:</span> <span class="n">AttributeSet</span><span class="p">)</span> <span class="p">:</span> <span class="k">super</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>类上的 <em>open</em>{：.keyword} 标注与 Java 中 <em>final</em>{：.keyword} 相反，它允许其他类
从这个类继承。默认情况下，在 Kotlin 中所有的类都是 final，
对应于 <a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a>书中的
第 17 条：<strong>要么为继承而设计，并提供文档说明，要么就禁止继承</strong>。</p>

<h3 id="section-7">覆盖成员<a href="#section-7" class="anchor"></a></h3>

<p>我们之前提到过，Kotlin 力求清晰显式。与 Java 不同，Kotlin 需要显式
标注可覆盖的成员（我们称之为<em>开放</em>）和覆盖后的成员：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">open</span> <span class="k">class</span> <span class="nc">Base</span> <span class="p">{</span>
  <span class="k">open</span> <span class="k">fun</span> <span class="nf">v</span><span class="p">()</span> <span class="p">{}</span>
  <span class="k">fun</span> <span class="nf">nv</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">Derived</span><span class="p">()</span> <span class="p">:</span> <span class="n">Base</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">v</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span></code></pre>

<p>Derived.v() 函数上必须加上 <strong>override</strong>标注。如果没写，编译器将会报错。
如果函数没有标注 <strong>open</strong> 如 <code>Base.nv()</code>，则子类中不允许定义相同签名的函数，
不论加不加 <strong>override</strong>。在一个 <strong>final</strong> 类中（没有用 <strong>open</strong> 标注的类），开放成员是禁止的。</p>

<p>标记为 <em>override</em>{：.keyword} 的成员本身是开放的，也就是说，它可以在子类中覆盖。如果你想禁止再次覆盖，使用 <em>final</em>{：.keyword} 关键字：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">open</span> <span class="k">class</span> <span class="nc">AnotherDerived</span><span class="p">()</span> <span class="p">:</span> <span class="n">Base</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">final</span> <span class="k">override</span> <span class="k">fun</span> <span class="nf">v</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span></code></pre>

<p>Overriding properties works in a similar way to overriding methods.
Note that you can use the <code>override</code> keyword as part of the property declaration in a primary constructor:</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">open</span> <span class="k">class</span> <span class="nc">Foo</span> <span class="p">{</span>
    <span class="k">open</span> <span class="k">val</span> <span class="py">x</span><span class="p">:</span> <span class="n">Int</span> <span class="k">get</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Bar1</span><span class="p">(</span><span class="k">override</span> <span class="k">val</span> <span class="py">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">:</span> <span class="n">Foo</span><span class="p">()</span> <span class="p">{</span>

<span class="p">}</span></code></pre>

<p>You can also override a <code>val</code> property with a <code>var</code> property, but not vice versa.
This is allowed because a <code>val</code> property essentially declares a getter method, and overriding it as a <code>var</code> additionally declares a setter method in the derived class.</p>

<h4 id="hack">等等！这样我怎么hack我的库？</h4>

<p>我们这样设计继承和覆盖的方式(类和成员默认<strong>final</strong>)，会让人很难继承第三方的类，因此很难进行hack。</p>

<p>我们认为这不是一个劣势，原因如下：</p>

<ul>
  <li>最佳实践已经表明不应该使用这些hacks</li>
  <li>其他的有类似机制的语言（C++、C#）已经证明是成功的</li>
  <li>如果人们实在想 hack，仍然有办法：你总可以使用 Java 进行 hack 再用 Kotlin 调用它（<em>参见<a href="java-interop.html">Java 互操作</a></em>），另外切面（Aspect）框架就是以此为目的的。</li>
</ul>

<h3 id="section-8">覆盖规则<a href="#section-8" class="anchor"></a></h3>

<p>在 Kotlin 中，实现继承由下述规则规定：如果一个类从它的直接超类继承相同成员的多个实现，
它必须覆盖这个成员并提供其自己的实现（也许用继承来的其中之一）。
为了表示采用从哪个超类型继承的实现，我们使用由尖括号中超类型名限定的 <em class="keyword">super</em>，如 <code>super&lt;Base&gt;</code>：</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">open</span> <span class="k">class</span> <span class="nc">A</span> <span class="p">{</span>
  <span class="k">open</span> <span class="k">fun</span> <span class="nf">f</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">fun</span> <span class="nf">a</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;a&quot;</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="n">interface</span> <span class="n">B</span> <span class="p">{</span>
  <span class="k">fun</span> <span class="nf">f</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">)</span> <span class="p">}</span> <span class="c1">// 接口成员默认就是 &#39;open&#39; 的</span>
  <span class="k">fun</span> <span class="nf">b</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;b&quot;</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">C</span><span class="p">()</span> <span class="p">:</span> <span class="n">A</span><span class="p">(),</span> <span class="n">B</span> <span class="p">{</span>
  <span class="c1">// 编译器要求覆盖 f()：</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">f</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;.</span><span class="n">f</span><span class="p">()</span> <span class="c1">// 调用 A.f()</span>
    <span class="k">super</span><span class="p">&lt;</span><span class="n">B</span><span class="p">&gt;.</span><span class="n">f</span><span class="p">()</span> <span class="c1">// 调用 B.f()</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>

<p>同时继承 <code>A</code> 和 <code>B</code> 没问题，并且 <code>a()</code> 和 <code>b()</code> 也没问题因为 <code>C</code> 只继承了每个函数的一个实现。
但是 <code>f()</code> 由 <code>C</code> 继承了两个实现，所以我们<strong>必须</strong>在 <code>C</code> 中覆盖 <code>f()</code> 
并且提供我们自己的实现来消除歧义。</p>

<h2 id="section-9">抽象类<a href="#section-9" class="anchor"></a></h2>

<p>类和其中的某些成员可以声明为 <em>abstract</em>{：.keyword}。
抽象成员在本类中可以不用实现。
需要注意的是，我们并不需要用 <code>open</code> 标注一个抽象类或者函数——因为这不言而喻。</p>

<p>我们可以用一个抽象成员覆盖一个非抽象的开放成员</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">open</span> <span class="k">class</span> <span class="nc">Base</span> <span class="p">{</span>
  <span class="k">open</span> <span class="k">fun</span> <span class="nf">f</span><span class="p">()</span> <span class="p">{}</span>
<span class="p">}</span>

<span class="k">abstract</span> <span class="k">class</span> <span class="nc">Derived</span> <span class="p">:</span> <span class="n">Base</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">abstract</span> <span class="k">fun</span> <span class="nf">f</span><span class="p">()</span>
<span class="p">}</span></code></pre>

<h2 id="section-10">伴生对象<a href="#section-10" class="anchor"></a></h2>

<p>与 Java 或 C# 不同，在 Kotlin 中类没有静态方法。在大多数情况下，它建议简单地使用
包级函数。</p>

<p>如果你需要写一个可以无需用一个类的实例来调用、但需要访问类内部的
函数（例如，工厂方法），你可以把它写成该类内<a href="object-declarations.html">对象声明</a>
中的一员。</p>

<p>更具体地讲，如果在你的类内声明了一个<a href="object-declarations.html#companion-objects">伴生对象</a>，
你就可以使用像在 Java/C# 中调用静态方法相同的语法来调用其成员，只使用类名
作为限定符。</p>

<h2 id="section-11">密封类<a href="#section-11" class="anchor"></a></h2>

<p>密封类用来表示受限的类层次结构：当一个值为有限集中的
类型、而不能有任何其他类型时。在某种意义上，他们是枚举类的扩展：枚举类型的值集合
也是受限的，但每个枚举常量只存在一个实例，而密封类
的一个子类可以有可包含状态的多个实例。</p>

<p>要声明一个密封类，需要在类名前面添加 <code>sealed</code> 修饰符。虽然密封类也可以
有子类，但是所以子类声明都必须嵌套在这个密封类声明内部。</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">sealed</span> <span class="k">class</span> <span class="nc">Expr</span> <span class="p">{</span>
    <span class="k">class</span> <span class="nc">Const</span><span class="p">(</span><span class="k">val</span> <span class="py">number</span><span class="p">:</span> <span class="n">Double</span><span class="p">)</span> <span class="p">:</span> <span class="n">Expr</span><span class="p">()</span>
    <span class="k">class</span> <span class="nc">Sum</span><span class="p">(</span><span class="k">val</span> <span class="py">e1</span><span class="p">:</span> <span class="n">Expr</span><span class="p">,</span> <span class="k">val</span> <span class="py">e2</span><span class="p">:</span> <span class="n">Expr</span><span class="p">)</span> <span class="p">:</span> <span class="n">Expr</span><span class="p">()</span>
    <span class="k">object</span> <span class="nc">NotANumber</span> <span class="p">:</span> <span class="n">Expr</span><span class="p">()</span>
<span class="p">}</span></code></pre>

<p>值得注意的是一个密封类的子类的继承者（间接继承）可以在任何地方声明，不一定要在
这个密封类声明内部。</p>

<p>使用密封类的关键好处在于使用<a href="control-flow.html#when-expression"><code>when</code> 表达式</a> 的时候，如果能够
验证语句覆盖了所有情况，就不需要为该语句再添加一个 <code>else</code> 子句了。</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="k">fun</span> <span class="nf">eval</span><span class="p">(</span><span class="n">expr</span><span class="p">:</span> <span class="n">Expr</span><span class="p">):</span> <span class="n">Double</span> <span class="p">=</span> <span class="k">when</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">is</span> <span class="n">Expr</span><span class="p">.</span><span class="n">Const</span> <span class="p">-&gt;</span> <span class="n">expr</span><span class="p">.</span><span class="n">number</span>
    <span class="k">is</span> <span class="n">Expr</span><span class="p">.</span><span class="n">Sum</span> <span class="p">-&gt;</span> <span class="n">eval</span><span class="p">(</span><span class="n">expr</span><span class="p">.</span><span class="n">e1</span><span class="p">)</span> <span class="p">+</span> <span class="n">eval</span><span class="p">(</span><span class="n">expr</span><span class="p">.</span><span class="n">e2</span><span class="p">)</span>
    <span class="n">Expr</span><span class="p">.</span><span class="n">NotANumber</span> <span class="p">-&gt;</span> <span class="n">Double</span><span class="p">.</span><span class="n">NaN</span>
    <span class="c1">// 不再需要 else 语句，因为我们已经覆盖了所有的情况</span>
<span class="p">}</span></code></pre>

    </article>
</div>

<script>
require(['page/reference'], function(page) {
    page();
});
</script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2016 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a> Translation by <a href="http://tanfujun.com" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a>
            </div>
        </div>
    </div>

</footer>
<script>require(['com/search', 'com/cookie-banner']);</script>
</body>
</html>