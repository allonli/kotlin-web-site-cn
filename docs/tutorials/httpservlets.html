<!DOCTYPE html>
<!--[if (IE 7)&!(IEMobile)]><html class="no-js ie ie7" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js ie ie8" lang="en"><![endif]-->
<!--[if (IE 9)&!(IEMobile)]><html class="no-js ie ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
<head>
<meta charset="utf-8">

    <title>使用 Http Servlet 创建 Web 应用 - Kotlin Programming Language</title>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-cn/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-cn/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/kotlin-web-site-cn/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/kotlin-web-site-cn/css/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="使用 Http Servlet 创建 Web 应用" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://kotlinlang.org/docs/tutorials/httpservlets.html" />
<meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/kotlin_250x250.png" />

<meta property="og:description" content="本教程通过使用 HttpServlet 创建一个简单的控制器来显示 Hello World。">

<meta property="og:site_name" content="Kotlin" />

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="使用 Http Servlet 创建 Web 应用">

<meta name="twitter:description" content="本教程通过使用 HttpServlet 创建一个简单的控制器来显示 Hello World。">

<meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/twitter-card/kotlin_800x320.png ">
<!-- Social Media tag Ends -->
<script src="/kotlin-web-site-cn/js/vendor/requirejs/require.js"></script>
<script src="/kotlin-web-site-cn/js/config/bootstrap.js"></script>
</head>
<body>
<!-- 
 -->

<div class="global-layout">

    <header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-cn/">Kotlin</a>

            

            <nav role="navigation" class="global-nav">
    

    <div class="nav-links">
        
            
            
            
            

            

            

            

            <a href="/kotlin-web-site-cn/docs/reference/"
               class="nav-item "
            >
                学习
            </a>
        
            
            
            
            

            

            

            

            <a href="/kotlin-web-site-cn/contribute.html"
               class="nav-item "
            >
                贡献
            </a>
        
            
            
            
            

            

            

            

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                在线尝试
            </a>
        
            
            
            
            

            
                
    </div>

    

    <div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div>
</nav>

        </div>
    </div>

    <div class="g-layout">
        
    </div>
</header>


    <div class="g-layout global-content">
        <div class="g-grid">

    <div class="g-12">
        
    

    <nav role="navigation" class="docs-nav">
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/reference/" class="nav-item">
                    <span class="nav-item-text">
                        参考
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                    <a href="/kotlin-web-site-cn/docs/tutorials/" class="nav-item is_active">
                        <span class="nav-item-text">
                            教程
                        </span>
                    </a>
            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        视频
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        事件记
                    </span>
                </a>

            
            </div>
        
            
            

            <div class="nav-item-wrap">
            
                <a href="/kotlin-web-site-cn/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                </a>

            
            </div>
        
    </nav>


    </div>

    <aside class="g-3">
        <div id="tutorials-nav">
            





<nav role="navigation" class="side-tree-nav">

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="开始">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">开始</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/getting-started.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">从IntelliJ IDEA开始</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/getting-started-eclipse.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">从Eclipse开始</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/command-line.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用命令行</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/build-tools.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用构建工具</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/koans.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Koans</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="JavaScript">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">JavaScript</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/create-library-js.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用IntelliJ IDEA创建Kotlin/JavaScript库</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/command-line-library-js.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">使用命令行编译器创建Kotlin/JavaScript库</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="混合开发">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">混合开发</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/mixing-java-kotlin-intellij.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">项目中混合使用Java与Kotlin</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _opened"
         data-id="Web开发">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Web开发</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                    <div class="marker"></div>
                    <div class="text">创建Http Servlets web程序</div>
                </div>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/spring-boot-restful.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Spring Boot创建RESTful Web服务</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="移动开发">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">移动开发</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/kotlin-android.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Android开发入门</span></a>
            
            </div>
        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/android-plugin.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">Kotlin Android 扩展</span></a>
            
            </div>
        

    </div>

    

    

    <div class="tree-item tree-branch js-item js-branch _closed"
         data-id="Tools">

        <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
            <div class="marker"></div>
            <div class="text">Tools</div>
        </div>

        
            
            

            
            

            <div class="tree-item tree-leaf js-item js-leaf">
            
                <a href="/kotlin-web-site-cn/docs/tutorials/kotlin-and-ci.html"
                   class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                   ><span class="marker"></span><span class="text">TeamCity配置Kotlin</span></a>
            
            </div>
        

    </div>

    

</nav>
        </div>
    </aside>

    <article role="main" class="page-content g-9">
        


<a href="https://github.com/cctanfujun/kotlin-web-site-cn/edit/master/docs/tutorials/httpservlets.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>

        <h1>
            使用 Http Servlet 创建 Web 应用
        </h1>
        <table>
            
            <tr>
                <td>
                    <strong>Author</strong>
                </td>
                <td>
                    Hadi Hariri
                </td>
            </tr>
            
            
            <tr>
                <td>
                    <strong>Last Updated</strong>
                </td>
                <td>
                    1 November 2015
                </td>
            </tr>
            
            
            <tr>
                <td>
                    <strong>Source</strong>
                </td>
                <td>
                    <a href="https://github.com/JetBrains/kotlin-web-site/tree/master/code/tutorials/servlet-web-applications">On GitHub</a>
                </td>
            </tr>
            
        </table>
        
            本教程通过使用 HttpServlet 创建一个简单的控制器来显示 Hello World。
        <br/>
        <br/>
        
        <p>Kotlin 可以使用 JavaEE 的 Http Servlet，就像使用其他的 Java 库或者框架一样。我们将看到
如何让一个简单的控制器返回 “Hello, World!”</p>

<h3 id="section">定义项目和依赖关系<a href="#section" class="anchor"></a></h3>
<p>In this tutorial we’re going to be using Gradle but the same can be accomplished using either IntelliJ IDEA project structure or Maven. For details on setting up Gradle to work with Kotlin, see <a href="/docs/reference/using-gradle.html">Using Gradle</a>.
The main dependency required for using HTTP servlets is the JavaEE API:</p>

<pre><code class="code-block _highlighted lang_groovy"><span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">compile</span> <span class="nl">group:</span> <span class="s1">&#39;javax&#39;</span><span class="o">,</span> <span class="nl">name:</span> <span class="s1">&#39;javaee-api&#39;</span><span class="o">,</span> <span class="nl">version:</span> <span class="s1">&#39;7.0&#39;</span>
    <span class="n">compile</span> <span class="s2">&quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;</span>
<span class="o">}</span></code></pre>

<p>我们还需要 <em>war</em> 插件，帮助我们生成相应的构件运行和部署。</p>

<pre><code class="code-block _highlighted lang_groovy"><span class="n">apply</span> <span class="nl">plugin:</span> <span class="n">war</span></code></pre>

<p>可以在Github检出项目来查看完整的Gradle脚本。</p>

<h3 id="homecontroller">创建一个HomeController<a href="#homecontroller" class="anchor"></a></h3>

<p>一旦我们在构建脚本中定义了正确的依赖，现在就可以创建一个控制器</p>

<pre><code class="code-block _highlighted lang_kotlin"><span class="n">@WebServlet</span><span class="p">(</span><span class="n">name</span> <span class="p">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">,</span> <span class="n">value</span> <span class="p">=</span> <span class="s">&quot;/hello&quot;</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">HomeController</span> <span class="p">:</span> <span class="n">HttpServlet</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">doGet</span><span class="p">(</span><span class="n">req</span><span class="p">:</span> <span class="n">HttpServletRequest</span><span class="p">,</span> <span class="n">res</span><span class="p">:</span> <span class="n">HttpServletResponse</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">res</span><span class="p">.</span><span class="n">writer</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Hello, World!&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre>

<h3 id="section-1">运行程序<a href="#section-1" class="anchor"></a></h3>

<p>使用IntelliJ IDEA，我们可以很容易地运行和调试应用程序，在任何可能的应用程序服务器定义 如Tomcat，Glassfish或WildFly。在这种情况下我们要使用Tomcat<a href="http://www.jetbrains.com/idea/webhelp/defining-application-servers-in-intellij-idea.html">曾被定义为一个应用程序服务器在IntelliJ IDEA</a></p>

<p>为了运行，我们需要相应的 WAR(s) 部署。我们可以使用 <em>war</em> 生成这些任务，可以很容易地通过在IntelliJ IDEA的Gradle工具执行。</p>

<p><img src="http://kotlinlang.org/assets/images/tutorials/httpservlets/gradle-tasks.png" alt="Gradle Tasks" /></p>

<p>或者使用命令行构建:</p>

<pre><code class="code-block _highlighted lang_sh">gradle war</code></pre>

<p>下一步是在IntelliJ IDEA中创建一个运行配置，使用 Tomcat/Local 部署并启动 WAR。</p>

<p><img src="http://kotlinlang.org/assets/images/tutorials/httpservlets/tomcat-config.png" alt="Run Config" /></p>

<p>一旦我们运行应用程序(使用之前的配置)，成功部署，应该能够使用浏览器打开URL看到如下的响应:</p>

<p><img src="http://kotlinlang.org/assets/images/tutorials/httpservlets/browser.png" alt="Browser Run" /></p>


    </article>
</div>



<script>require(['page/tutorials']);</script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2016 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a> Translation by <a href="http://tanfujun.com" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a>
            </div>
        </div>
    </div>

</footer>
<script>require(['com/search', 'com/cookie-banner']);</script>
</body>
</html>